{% extends "admin_base.twig" %}

{% block content %}
<h2>User Management</h2>

<h2>All Users</h2>
<table class="allUsers nst">
    <thead>
        <tr>
            <th>Username</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Email</th>
            <th>Department</th>
            <th>Is Admin</th>
            <th>Is Tech</th>
            <th>is Supervisor</th>

            <th>Last Login</th>
        </tr>
    </thead>
 <tbody>
        {% for user in user_result %}
            <tr>
                <td data-cell="User Name">
                    <a href="../users/manage_user.php?id={{ user.id }}">{{ user.username }}</a>
                </td>
                <td data-cell="First Name">{{ user.firstname|lower|capitalize }}</td>
                <td data-cell="Last Name">{{ user.lastname|lower|capitalize }}</td>
                <td data-cell="Email">{{ user.email }}</td>
                <td data-cell="Department">{{ user.department|default('N/A') }}</td>
                <td data-cell="Is an Admin">{{ user.is_admin == 1 ? 'Yes' : 'No' }}</td>
                <td data-cell="Is a Tech">{{ user.is_tech == 1 ? 'Yes' : 'No' }}</td>
                <td data-cell="Is a Supervisor">{{ user.is_supervisor == 1 ? 'Yes' : 'No' }}</td>
                <td data-cell="Last Login">{{ user.last_login|default('Never') }}</td>
            </tr>
        {% endfor %}
    </tbody>


</table>
{% endblock %}